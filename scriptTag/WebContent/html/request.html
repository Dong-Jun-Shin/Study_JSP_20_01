<!-- 빈 칸 체크 -->
<!-- 학력 선택에 따른 학과 분류 -->
<!-- 고졸		대졸		대학원졸 -->

<!-- 인문계		인문대학		석사졸업 -->
<!-- 실업계		의학대학		박사졸업 -->
<!-- 특성화고		공과대학 -->


<!-- 사용가능 플랫폼 : 기본 체크 1개 -->
<!-- 사용가능 언어 : 한 개 이상 체크하도록 검사 -->

<!-- name, birth, cholarship, major, platform, language -->


<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />      	

		<title>예제</title>
		
		<!-- 모바일 웹 페이지 설정 - 이미지 경로 위치는 각자 변경 -->
		<link rel="shortcut icon" href="../image/icon.png" />
		<link rel="apple-touch-icon" href="../image/icon.png" />
		<!-- 모바일 웹 페이지 설정 끝 -->
		
		<!--[if lt IE 9] IE9라면 실행>
		<script src="../js/html5shiv.js"></script>
		<![endif]-->
		
		<style type="text/css">
			*{
				padding: 5px;
			}
			
			table{
				width: 400px;
				height: 500px;
			}
			
			table, td {
				border: 1px solid black;
				border-collapse: collapse;
			}
			
			tr > td:nth-child(1) {
				text-align: center;
			}
			
			td span, option{
				padding: 0px;
			}
		</style>
		
		<script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
		<script type="text/javascript">
			$(function(){
				$("input[name='scholarship']").change(function(){
					$.ajax({
						url: "../js/major.json",
						type: "get",
						datatype: "json",
						timeout: 30000,
						cache: false,
						
						success: function(data){
							var major = data.major;
							var scholarVal = $("input[name='scholarship']:checked").val();
							
							if(scholarVal=="고졸"){
								var optVal = [major[0].a, major[0].b, major[0].c]; 
								for (var i = 0; i < optVal.length; i++) {
									var option = $("<option>");
									option.attr("value", optVal[i]);
									option.html(optVal[i]);
									
									$("#major").append(option);
								}
								
							}else if(scholarVal=="대졸"){
								var optVal = [major[1].a, major[1].b, major[1].c]; 
								for (var i = 0; i < optVal.length; i++) {
									var option = $("<option>");
									option.attr("value", optVal[i]);
									option.html(optVal[i]);
									
									$("#major").append(option);
								}
								
							}else if(scholarVal=="대학원졸"){
								var optVal = [major[2].a, major[2].b, major[2].c];
								for (var i = 0; i < optVal.length; i++) {
									var option = $("<option>");
									option.attr("value", optVal[i]);
									option.html(optVal[i]);
									
									$("#major").append(option);
								}
								
							}
						}
						
					})
				}) ;
				
				$("button[type='button']").click(function(){
					var name = $("#name");
					var birth = $("#birth");
					var scholarBool = $("input[name='scholarship']").is(":checked");
					var scholarVal = $("input[name='scholarship']:checked");
					var platform = $("#platform");
					
					var langStr = "";
					$("input[name='language']:checked").each(function(){
						langStr += $(this).val() + " ";
					});

					/* 유효성 검사 체크하기 */
					var spaceExp = /\s/g;

					// 이름
					if(name.val().replace(spaceExp, "")==""){
						alert("이름을 입력해주세요.");
						name.val("");
						name.focus();
						
						return;
					}
					
					// 생일
					if(birth.val()==""){
						alert("날짜를 입력해주세요.");
						birth.val("");
						birth.focus();
						
						return;
					}
					
					// 학력
					if(!scholarBool){
						alert("학력을 선택해주세요.");
						scholarVal.val("");
						scholarVal.focus();
						
						return;
					}
					
					// 사용가능 언어
					if(langStr==""){
						alert("사용가능 언어를 선택해주세요.");
						$("input[name='language']:eq(0)").focus();
						
						return;
					}
					
					$("#dataForm").attr({
						"method" : "post",
						"action" : "/scriptTag/jsp/request.jsp"
					})
					
					return false;
					$("#dataForm").submit();
				})
			})
		</script>
	</head>
	<body>
		<form id="dataForm">
			<table>
				<tr>
					<th colspan="2">기술 정보 이력</th>
				</tr>
				<tr>
					<td>이름</td>
					<td><input type="text" name="name" id="name"></td>
				</tr>
				<tr>
					<td>생년월일</td>
					<td><input type="date" value="연도-월-일" name="birth" id="birth"></td>
				</tr>
				<tr>
					<td>학력</td>
					<td>
						<span><input type="radio" name="scholarship" value="고졸"><label>고졸</label></span>
						<span><input type="radio" name="scholarship" value="대졸"><label>대졸</label></span>
						<span><input type="radio" name="scholarship" value="대학원졸"><label>대학원졸</label></span>
					</td>
				</tr>
				<tr>
					<td>학과(전공)</td>
					<td>
						<select name="major" id="major"></select>
					</td>
				</tr>
				<tr>
					<td>사용가능 플랫폼</td>
					<td>
						<select size="4" name="platform" id="platform">
							<option value="Window 계열 PC" selected="selected">Window 계열 PC</option>
							<option value="Window 계열 서버">Window 계열 서버</option>
							<option value="UNIX">UNIX</option>
							<option value="IBM OS/390">IBM OS/390</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>사용가능 언어</td>
					<td>
						<span><input type="checkbox" name="language" value="C"><label>C</label></span>
						<span><input type="checkbox" name="language" value="C++"><label>C++</label></span>
						<span><input type="checkbox" name="language" value="JAVA"><label>JAVA</label></span>
						<span><input type="checkbox" name="language" value="C#"><label>C#</label></span>
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<button type="button">보내기</button>
						<button type="reset">다시작성</button>
					</td>
				</tr>
			</table>
		</form>
	</body>
</html>
